<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="PlanDAO">

	<!-- 서비스 플랜 결제 -->
	<insert id="planPayment" parameterType="plan">
	    INSERT INTO PLAN_APPLY (PLAN_APPLY_CODE, PAYMENT_DATE, PLAN_START, PLAN_END, PLAN_CODE, CARD_CODE)
	    VALUES (s_plan_apply_code.NEXTVAL, SYSDATE, SYSDATE, SYSDATE + 
	        CASE WHEN #{plan_code} IN (1, 3) THEN 30 ELSE 365 END, 
	        #{plan_code}, #{card_code})
	</insert>
	
	<!-- 서비스 플랜 업그레이드 -->
	<insert id="planUpgrade" parameterType="plan">
	</insert>
	
</mapper>

